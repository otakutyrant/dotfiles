#!/bin/bash
#
# Make git commit to begin with file name automatically when there is only one changed file

changed_file_count=$(git diff --staged --name-only | wc -l)
if [ "$changed_file_count" -eq 1 ]; then
  changed_file_name=$(git diff --staged --name-only | xargs -n1 basename)
  git commit -e -m "$changed_file_name: "
else
  git commit
fi
